pip install numpy matplotlib

import numpy as np
import matplotlib.pyplot as plt


def create_triangle_signal(period_length, num_periods, sampling_rate):
    t = np.linspace(
        0, period_length * num_periods, int(period_length * num_periods * sampling_rate)
    )
    triangle_wave = np.abs((2 * t / period_length) % 2 - 1) - 0.5
    return t, triangle_wave


def plot_segment(t, signal, period_length, num_periods):
    plt.plot(t, signal)
    plt.title(f"Triangle Signal - {num_periods} Periods")
    plt.xlabel("Time")
    plt.ylabel("Amplitude")
    plt.xlim(0, period_length * num_periods)
    plt.grid(True)
    plt.show()


def compute_correlation(signal1, signal2):
    correlation = np.correlate(signal1, signal2, mode="same")
    return correlation


# Parameters
period_length = 1.0  # Length of one period (seconds)
num_periods = 3  # Number of periods to plot
sampling_rate = 1000  # Sampling rate (Hz)
# Create triangle signal
t, triangle_signal = create_triangle_signal(period_length, num_periods, sampling_rate)
# Plot 3-period segment
plot_segment(t, triangle_signal, period_length, num_periods)
# Compute correlation
correlation = compute_correlation(triangle_signal, triangle_signal)
print("Correlation between the signal and itself:", correlation)
